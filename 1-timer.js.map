{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport iziToast from \"izitoast\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst dateInput = document.querySelector(\"#datetime-picker\");\nconst startButton = document.querySelector(\"[data-start]\");\nconst daysDom = document.querySelector(\"[data-days]\");\nconst hoursDom = document.querySelector(\"[data-hours]\");\nconst minutesDom = document.querySelector(\"[data-minutes]\");\nconst secondsDom = document.querySelector(\"[data-seconds]\");\n\nconst container = document.querySelector(\".container\");\nconst inputGroup = document.createElement(\"div\");\ninputGroup.classList.add(\"input-group\");\n\ninputGroup.appendChild(dateInput);\ninputGroup.appendChild(startButton);\ncontainer.insertBefore(inputGroup, container.querySelector(\".timer\"));\n\nstartButton.disabled = true;\nlet userSelectedDate = null;\n\nconst showInvalidDateToast = () => {\n  iziToast.show({\n    title: \"Invalid Date\",\n    message: \"Please choose a date in the future\",\n    backgroundColor: \"#ff6666\",\n    position: \"topRight\",\n  });\n};\n\nflatpickr(dateInput, {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0]?.getTime();\n    if (!userSelectedDate || userSelectedDate < Date.now()) {\n      showInvalidDateToast();\n      startButton.disabled = true;\n    } else {\n      startButton.disabled = false;\n    }\n  },\n});\n\nstartButton.addEventListener(\"click\", () => {\n  startButton.disabled = true;\n\n  const intervalId = setInterval(() => {\n    const diff = userSelectedDate - Date.now();\n    if (diff <= 0) {\n      clearInterval(intervalId);\n      return;\n    }\n\n    console.log(\"Time remaining:\", convertMs(diff));\n\n    const { days, hours, minutes, seconds } = convertMs(diff);\n\n    daysDom.textContent = days.toString().padStart(2, \"0\");\n    hoursDom.textContent = hours.toString().padStart(2, \"0\");\n    minutesDom.textContent = minutes.toString().padStart(2, \"0\");\n    secondsDom.textContent = seconds.toString().padStart(2, \"0\");\n  }, 1000);\n});\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  return {\n    days: Math.floor(ms / day),\n    hours: Math.floor((ms % day) / hour),\n    minutes: Math.floor(((ms % day) % hour) / minute),\n    seconds: Math.floor((((ms % day) % hour) % minute) / second),\n  };\n}\n"],"names":["dateInput","startButton","daysDom","hoursDom","minutesDom","secondsDom","container","inputGroup","userSelectedDate","showInvalidDateToast","iziToast","flatpickr","selectedDates","_a","intervalId","diff","convertMs","days","hours","minutes","seconds","ms"],"mappings":"+IAKA,MAAMA,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAa,SAAS,cAAc,gBAAgB,EACpDC,EAAa,SAAS,cAAc,gBAAgB,EAEpDC,EAAY,SAAS,cAAc,YAAY,EAC/CC,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,UAAU,IAAI,aAAa,EAEtCA,EAAW,YAAYP,CAAS,EAChCO,EAAW,YAAYN,CAAW,EAClCK,EAAU,aAAaC,EAAYD,EAAU,cAAc,QAAQ,CAAC,EAEpEL,EAAY,SAAW,GACvB,IAAIO,EAAmB,KAEvB,MAAMC,EAAuB,IAAM,CACjCC,EAAS,KAAK,CACZ,MAAO,eACP,QAAS,qCACT,gBAAiB,UACjB,SAAU,UACd,CAAG,CACH,EAEAC,EAAUX,EAAW,CACnB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQY,EAAe,OACrBJ,GAAmBK,EAAAD,EAAc,CAAC,IAAf,YAAAC,EAAkB,UACjC,CAACL,GAAoBA,EAAmB,KAAK,IAAG,GAClDC,IACAR,EAAY,SAAW,IAEvBA,EAAY,SAAW,EAE1B,CACH,CAAC,EAEDA,EAAY,iBAAiB,QAAS,IAAM,CAC1CA,EAAY,SAAW,GAEvB,MAAMa,EAAa,YAAY,IAAM,CACnC,MAAMC,EAAOP,EAAmB,KAAK,IAAG,EACxC,GAAIO,GAAQ,EAAG,CACb,cAAcD,CAAU,EACxB,MACD,CAED,QAAQ,IAAI,kBAAmBE,EAAUD,CAAI,CAAC,EAE9C,KAAM,CAAE,KAAAE,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYJ,EAAUD,CAAI,EAExDb,EAAQ,YAAce,EAAK,SAAU,EAAC,SAAS,EAAG,GAAG,EACrDd,EAAS,YAAce,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,EACvDd,EAAW,YAAce,EAAQ,SAAU,EAAC,SAAS,EAAG,GAAG,EAC3Dd,EAAW,YAAce,EAAQ,SAAU,EAAC,SAAS,EAAG,GAAG,CAC5D,EAAE,GAAI,CACT,CAAC,EAED,SAASJ,EAAUK,EAAI,CAMrB,MAAO,CACL,KAAM,KAAK,MAAMA,EAAK,KAAG,EACzB,MAAO,KAAK,MAAOA,EAAK,MAAO,IAAI,EACnC,QAAS,KAAK,MAAQA,EAAK,MAAO,KAAQ,GAAM,EAChD,QAAS,KAAK,MAASA,EAAK,MAAO,KAAQ,IAAU,GAAM,CAC/D,CACA"}